#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Running pre-push checks..."

# Function to check if a command succeeded
check_command() {
  if [ $? -eq 0 ]; then
    echo "âœ… $1 passed"
  else
    echo "âŒ $1 failed"
    exit 1
  fi
}

# Run TypeScript checks
echo "ğŸ“ Checking TypeScript..."
pnpm typecheck
check_command "TypeScript check"

# Run linting
echo "ğŸ§¹ Running linter..."
pnpm lint
check_command "Linting"

# Run build checks
echo "ğŸ—ï¸  Building applications..."
pnpm build
check_command "Build"

echo "ğŸ‰ All pre-push checks passed! Proceeding with push..."
